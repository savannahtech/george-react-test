(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{6946:function(e,t,s){Promise.resolve().then(s.bind(s,594))},594:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var i=s(4618),a=s(7024),n=s(3911),r=s.n(n),l=s(5041),c=s(8197),d=s(8420),o=s(2862),u=s(6523),x=s(4339),m=s(9950);let h=e=>{let{list:t,type:s,handleSelected:n}=e,[r,l]=(0,a.useState)(t[0]),c=e=>{l(e),n(s,e)};return(0,a.useEffect)(()=>{n(s,t[0])},[]),(0,i.jsxs)(m.R,{as:"div",className:"relative",value:r,onChange:c,children:[(0,i.jsx)(m.R.Button,{as:"div",className:"dropdown-button",children:(0,i.jsx)("div",{className:"flex justify-start items-start",children:(0,i.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,i.jsx)("div",{className:"dropdown-btn-content",children:r.name}),(0,i.jsx)(u.pL,{})]})})}),(0,i.jsx)(m.R.Options,{as:"ul",className:"dropdown-list",children:t.map(e=>(0,i.jsx)(m.R.Option,{as:"li",value:e,className:"dropdown-option",children:e.name},e.id))})]})},p=[{id:"1",name:"Open",email:"",emailVerified:!1,image:"",createdAt:new Date,updatedAt:new Date},{id:"2",name:"In Progress",email:"",emailVerified:!1,image:"",createdAt:new Date,updatedAt:new Date},{id:"3",name:"Done",email:"",emailVerified:!1,image:"",createdAt:new Date,updatedAt:new Date}],f=e=>{let{register:t,clearErrors:s,setValue:n,trigger:m,handleSubmit:f,formState:{errors:j}}=(0,d.cI)(),{users:v}=e,g=(0,l.useRouter)(),[w,N]=(0,a.useState)(0),[k,y]=(0,a.useState)(!1),b=()=>{w<1?N(e=>e+1):N(e=>e-1)},C=async e=>{try{if(w<1)return;m(["title","created_at"]).then(async t=>{if(t){var s,i;let t={...e};t.avatar="",t.userId=null==t?void 0:null===(s=t.assignee)||void 0===s?void 0:s.id,t.status=null==t?void 0:null===(i=t.status)||void 0===i?void 0:i.name,t.description="".concat(t.description),t.createdAt=new Date(t.created_at),delete t.created_at,delete t.assignee,delete t.user,y(!0);let a=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});a&&(y(!1),o.Am.success("Task Added Successfully"),setTimeout(()=>{g.refresh(),g.replace("/")},1e3))}else o.Am.error("Complete all required fields")})}catch(e){y(!1),console.error("Error occured:",e),o.Am.error("Error occurred creating task. Please try again")}},L=(e,t)=>{n(e,t)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{className:"grid grid-cols-1 gap-5 bg-[#F7F9FC] p-6 rounded-lg pb-12 mb-16",onSubmit:f(C),children:[(0,i.jsxs)("div",{className:"w-full justify-start items-start gap-6 inline-flex",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-[#0F52BA] rounded-[10px] border border-indigo-300 justify-center items-center gap-6 flex",children:(0,i.jsx)(u.dt,{})}),(0,i.jsxs)("div",{className:"grow shrink basis-0 pt-[3px] flex-col justify-start items-start gap-2 inline-flex",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{autoFocus:!0,className:"min-w-[14rem] task-title task-input ",...t("title",{required:!0}),onChange:()=>s(),placeholder:"Task Title"}),j.title&&(0,i.jsx)("p",{className:"form-error",children:"Title is required"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{className:"task-date min-w-[14rem]",type:"date",...t("created_at",{required:!0}),onChange:()=>s()}),j.created_at&&(0,i.jsx)("p",{className:"form-error",children:"Due Date is required"})]})]}),(0,i.jsxs)("div",{className:"relative px-3 flex justify-start items-center gap-2",children:[(0,i.jsx)("div",{className:"text-gray-400 text-[13px] font-medium leading-tight",children:"Assign to"}),(0,i.jsx)(h,{list:v,type:"assignee",handleSelected:L})]})]}),(0,i.jsx)("hr",{className:"border-gray-200"}),w>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"grow shrink basis-0 p-4 flex-col justify-start items-start gap-1.5 inline-flex",children:[(0,i.jsx)("h2",{className:"text-gray-400 text-xs font-medium leading-normal",children:"Description"}),(0,i.jsx)("textarea",{id:"description",rows:5,className:"new-task-description task-input",...t("description",{required:!0})})]}),(0,i.jsxs)("div",{className:"relative px-3 flex justify-start items-center gap-2",children:[(0,i.jsx)("div",{className:"text-gray-400 text-[13px] font-medium leading-tight",children:"Status"}),(0,i.jsx)(h,{list:p,type:"status",handleSelected:L})]}),(0,i.jsx)("hr",{className:"border-gray-200"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,i.jsxs)(c.O.Group,{as:"div",className:"p-6 pb-0",children:[(0,i.jsx)(c.O.List,{as:"div",className:"px-5",children:(0,i.jsx)(c.O,{className:"tab-header active",children:"Related tasks"})}),(0,i.jsx)(c.O.Panels,{children:(0,i.jsx)(c.O.Panel,{as:"div",className:"grid grid-cols-1 gap-[16px]",children:(0,i.jsx)("div",{})})})]}),(0,i.jsx)(r(),{href:"/",as:"/",children:(0,i.jsxs)("div",{className:"px-6 pb-0 flex justify-start items-center gap-1.5",children:[(0,i.jsx)(u.v3,{}),(0,i.jsx)("div",{className:"text-slate-600 text-base font-medium leading-[18px]",children:"Link to other tasks"})]})})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("div",{children:w<1&&(0,i.jsx)(x.zx,{onClick:()=>{g.back()},className:"task-button inactive-btn",children:"Go Back"})}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(x.zx,{onClick:b,className:"task-button ".concat(w<1?"active-btn":"inactive-btn"),children:w<1?"Next":"Back"}),(0,i.jsx)(x.zx,{className:"task-button ".concat(w<1?"inactive-btn":"active-btn"),disabled:w<1,isSubmitting:k,children:"Finish"})]})]})]}),(0,i.jsx)(o.x7,{})]})};var j=f},6523:function(e,t,s){"use strict";s.d(t,{dt:function(){return r},pL:function(){return d},v3:function(){return c},UV:function(){return l},N$:function(){return n}});var i=s(4618);function a(e){let{size:t,children:s,...a}=e;return(0,i.jsx)("svg",{fill:"none",width:t||24,height:t||24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:s})}s(9309);var n=function(e){let{className:t,...s}=e;return(0,i.jsx)(a,{fill:"none",width:"40",height:"40",viewBox:"0 0 40 40",className:t,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M13.3333 16.6667L19.9999 23.3333L26.6666 16.6667M6.66659 5H33.3333C34.2173 5 35.0652 5.35119 35.6903 5.97631C36.3154 6.60143 36.6666 7.44928 36.6666 8.33333V18.3333C36.6666 22.7536 34.9106 26.9928 31.785 30.1184C28.6594 33.2441 24.4202 35 19.9999 35C17.8112 35 15.644 34.5689 13.6219 33.7313C11.5998 32.8937 9.76245 31.6661 8.21481 30.1184C5.0892 26.9928 3.33325 22.7536 3.33325 18.3333V8.33333C3.33325 7.44928 3.68444 6.60143 4.30956 5.97631C4.93468 5.35119 5.78253 5 6.66659 5Z",stroke:"#DEE5F0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},r=function(e){let{className:t,...s}=e;return(0,i.jsx)(a,{fill:"none",width:"40",height:"40",viewBox:"0 0 40 40",className:t,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M20 13.333V26.6663M13.3334 19.9997H26.6667M36.6667 19.9997C36.6667 29.2044 29.2048 36.6663 20 36.6663C10.7953 36.6663 3.33337 29.2044 3.33337 19.9997C3.33337 10.7949 10.7953 3.33301 20 3.33301C29.2048 3.33301 36.6667 10.7949 36.6667 19.9997Z",stroke:"#DEE5F0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},l=function(e){let{className:t,...s}=e;return(0,i.jsx)(a,{fill:"none",width:"24",height:"24",viewBox:"0 0 24 24",className:t,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M9 18L15 12L9 6",stroke:"#98A2B3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},c=function(e){let{className:t,...s}=e;return(0,i.jsx)(a,{fill:"none",width:"24",height:"24",viewBox:"0 0 24 24",className:t,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M12 5V19M5 12H19",stroke:"#1D2939",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},d=function(e){let{className:t,...s}=e;return(0,i.jsx)(a,{fill:"none",width:"16",height:"16",viewBox:"0 0 16 16",className:t,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},4339:function(e,t,s){"use strict";s.d(t,{zx:function(){return r},u_:function(){return l.Modal}});var i=s(4618),a=s(7024),n=s(9309);let r=(0,a.forwardRef)((e,t)=>{let{children:s,disabled:a,className:r,isSubmitting:l=!1,contentClassName:c,themeColor:d="text-white",...o}=e;return a=!!l||a,(0,i.jsxs)("button",{ref:t,className:n.B.classNames("outline-0","text-sm font-semibold whitespace-nowrap select-none","rounded-md hover:bg-opacity-80","gap-2 flex items-center","disabled:pointer-events-none","active:shadow-[inset_0_0_100px_100px_rgba(0,0,0,0.1)]",r),disabled:a,...o,children:[l?(0,i.jsxs)("svg",{className:"h-3 w-3 animate-spin ".concat(d),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{opacity:.25,cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{opacity:.75,fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"",(0,i.jsx)("div",{className:n.B.classNames(c,"flex items-center justify-center gap-2"),children:s})]})});var l=s(64)},64:function(e,t,s){"use strict";s.r(t),s.d(t,{Modal:function(){return l}});var i=s(4618),a=s(7024),n=s(5042),r=s(8358);let l=e=>{let{autoClose:t=!0,children:s,isOpen:l,setIsOpen:c,title:d,centered:o=!0,style:u="w-full sm:w-1/2 md:w-64",opacity:x="bg-opacity-25"}=e;return(0,i.jsx)(n.u,{appear:!0,show:l,as:a.Fragment,children:(0,i.jsxs)(r.V,{as:"div",open:l,onClose:()=>{t&&c(!1)},className:"overflow-y-hidden ".concat(u),children:[(0,i.jsx)(n.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 z-1000 bg-black backdrop-blur-sm ".concat(x),"aria-hidden":"true"})}),(0,i.jsx)("div",{className:"fixed inset-0 z-1009 py-5 overflow-y-auto ".concat(o?"flex items-center justify-center":""),children:(0,i.jsx)(n.u.Child,{as:a.Fragment,enter:"transition ease-out duration-700 transform-gpu",enterFrom:"translate-y-[5%] opacity-70",enterTo:"translate-y-0 opacity-100",leave:"transition ease-in duration-700 transform-gpu",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-[5%] opacity-70",children:(0,i.jsxs)(r.V.Panel,{className:"",children:[(0,i.jsx)(r.V.Title,{children:d}),(0,i.jsx)(r.V.Description,{as:"div",children:s})]})})})]})})};t.default=l},9309:function(e,t,s){"use strict";s.d(t,{B:function(){return i}});var i={};s.r(i),s.d(i,{classNames:function(){return a}}),s(4618);let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}}},function(e){e.O(0,[63,913,744,9,560],function(){return e(e.s=6946)}),_N_E=e.O()}]);